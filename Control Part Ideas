
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////control

// in loop(){}

// bool prev_time
// prev_time = current_time;
// // current_time = t;

// bool prev_leg_left;    
// bool curr_leg_left;    
// bool switched_leg;
// float alpha_z; //cumulative Yaw angle
// float sine_part; // need to define this by:

// if (tau < p_right / 2) {
//     pos = A_right * sin(w_right * tau + phi) + startOffset;
//   }
//   //Second half
//   else if (p_right / 2 <= tau && tau <= p_right / 2 + p_left / 2) {
//     pos = A_left * sin(w_left * (tau - p_right / 2 + p_left / 2) + phi) + startOffset;
//   }


// I guess:
// sine_part is updated when pos is changed

//if (tau < p_right / 2) {
//     pos = A_right * sin(w_right * tau + phi) + startOffset;
//     sine_part = sin(w_right * tau + phi)
//   }
//   //Second half
//   else if (p_right / 2 <= tau && tau <= p_right / 2 + p_left / 2) {
//     pos = A_left * sin(w_left * (tau - p_right / 2 + p_left / 2) + phi) + startOffset;
//     sine_part = sin(w_left * (tau - p_right / 2 + p_left / 2)
//   }
  
// if statement 1: check which leg is contacting land
// if (sine_part > 0) {
//   curr_leg_left = true;  // current status: left leg landing
// } else {
//   curr_leg_left = false;
// }
// // if statement 2: check if there is a contact leg shift
// if (prev_leg_left  == curr_leg_left) {
//     switched_leg = false;
// }

// // control part
// if (switched_leg){
//   // if we switched leg
//   if (curr_leg_left) { 
//     //left leg has just landed and right leg is about to swing
//     if (alpha_z < -5) {
//       //left leg landed and off the track too right
//       //then we need a faster swing on left leg
//       f_left += 2;
//     } else  if (alpha_z > 5) {
//       //left leg landed and off the track too left
//       //then we need a slower swing on left leg
//       f_left -= 2;
//     }
//   } else if (curr_leg_left == false) {
//     //right leg has just landed and left leg is about to swing
//     if (alpha_z < -5) {
//       //right leg landed and off the track too right
//       //then we need a slower swing on right leg
//       f_right -= 2;
//     } else if (alpha_z > 5) {
//       //left leg landed and off the track too left
//       //then we need a faster swing on right leg
//       f_right += 2;
//     }
//   }
//   //always record alpha_z
//   alpha_z += gz * (current_time - prev_time)
//   switched_leg == true;


// } else if (switched_leg == false) {
//   //continue on the same leg
//   //we recording alpha_z
//   alpha_z += gz * (current_time - prev_time)
//   }
// }

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
